import{j as e,u as j,a as x,r as v,f as w,L as b}from"./index-BS_VaL8k.js";const g=({text:s,styles:t,type:r="button"})=>e.jsx("button",{type:r,className:t,children:s}),a={adults:{text:"adults",svg:"users",showValue:!0},automatic:{text:"Automatic",svg:"automatic",showValue:!1},airConditioner:{text:"Air conditioner",svg:"air-conditioner",showValue:!0},bathroom:{text:"Bathroom",svg:"shower",showValue:!1},kitchen:{text:"kitchen",svg:"kitchen",showValue:!1},beds:{text:"beds",svg:"bed",showValue:!0},TV:{text:"TV",svg:"tv",showValue:!1},CD:{text:"CD",svg:"cd",showValue:!1},radio:{text:"Radio",svg:"radio",showValue:!1},shower:{text:"Shower",svg:"shower",showValue:!1},toilet:{text:"Toilet",svg:"toilet",showValue:!1},freezer:{text:"Freezer",svg:"freezer",showValue:!1},hob:{text:"hob",svg:"hob",showValue:!0},microwave:{text:"Microwave",svg:"microwave",showValue:!1},gas:{text:"Gas",svg:"gas",showValue:!1},water:{text:"Water",svg:"water",showValue:!1},ac:{text:"AC",svg:"wind",showValue:!1},petrol:{text:"Petrol",svg:"petrol",showValue:!1}},V={adults:a.adults,automatic:a.automatic,petrol:a.petrol,kitchen:a.kitchen,beds:a.beds,ac:a.ac},C={adults:a.adults,automatic:a.automatic,airConditioner:a.airConditioner,bathroom:a.bathroom,kitchen:a.kitchen,beds:a.beds,TV:a.TV,CD:a.CD,radio:a.radio,shower:a.shower,toilet:a.toilet,freezer:a.freezer,hob:a.hob,microwave:a.microwave,gas:a.gas,water:a.water,ac:a.ac,petrol:a.petrol},N="/campers/assets/sprite-DUZiCnS6.svg",u=({name:s,width:t,height:r,styles:c=""})=>e.jsx("svg",{className:c,width:t,height:r,children:e.jsx("use",{xlinkHref:`${N}#${s}`})}),_=({text:s,svg:t,showValue:r,value:c})=>e.jsxs("div",{className:"camper_item_details_item",children:[e.jsx(u,{name:t,width:"20",height:"20"}),r&&c," ",s]}),k=({camper:s,fullList:t})=>{const r=t?C:V,{details:c,adults:o}=s,{adults:n,automatic:i,ac:l,petrol:m}=r;return e.jsxs("div",{className:"camper_item_details",children:[e.jsx(_,{text:n.text,svg:n.svg,showValue:n.showValue,value:o}),e.jsx(_,{text:i.text,svg:i.svg,showValue:i.showValue,value:0}),c.airConditioner>0&&e.jsx(_,{text:l.text,svg:l.svg,showValue:l.showValue,value:0}),e.jsx(_,{text:m.text,svg:m.svg,showValue:m.showValue,value:0}),Object.entries(c).map(([d,h])=>{const p=r[d];return p?e.jsx(_,{text:p.text,svg:p.svg,showValue:p.showValue,value:h},d):null})]})},y=({camper:s})=>{const{name:t,price:r,location:c,rating:o,description:n,gallery:i,reviews:l}=s;return e.jsxs("div",{className:"camper_item",children:[e.jsx("img",{className:"camper_item__img",src:i[0],alt:t}),e.jsxs("div",{className:"camper_item__body",children:[e.jsxs("div",{className:"camper_item__body_header",children:[e.jsxs("div",{className:"camper_item__body_header_main",children:[e.jsx("h3",{children:t}),e.jsxs("p",{children:["â‚¬",r]})]}),e.jsxs("div",{className:"camper_item__body_header_additional",children:[e.jsxs("div",{className:"camper_item__body_header_additional_container",children:[e.jsx(u,{name:"star",width:"16",height:"16"}),e.jsxs("p",{className:"camper_item__body_header_additional_review_text",children:[o,"(",l.length," Reviews)"]})]}),e.jsxs("p",{className:"camper_item__body_header_additional_container",children:[e.jsx(u,{name:"map-pin",width:"16",height:"16"}),c]})]})]}),e.jsx("p",{className:"camper_item__body_text",children:n}),e.jsx(k,{camper:s,fullList:!1}),e.jsx(g,{text:"Show more",styles:"btn_main"})]})]})},S=s=>s.camper.items,F=s=>s.camper.isLoading,D=s=>s.camper.error,I=()=>{const s=j(),t=x(S),r=x(F),c=x(D);return v.useEffect(()=>{s(w())},[s]),e.jsxs("div",{className:"camper_list",children:[r&&e.jsx(b,{}),c&&e.jsx("p",{children:"error"}),t.length&&t.map(o=>e.jsx(y,{camper:o},o._id))]})},f=({item:s,type:t})=>{const{id:r,name:c,svg:o,checked:n}=s;return e.jsxs("li",{className:`camper_search_form_filters_item ${n?"active":""}`,id:r,children:[e.jsx("input",{className:"camper_search_form_filters_item__input",type:t,checked:n,readOnly:!0,id:r}),e.jsxs("label",{className:"camper_search_form_filters_item__label",htmlFor:r,children:[e.jsx(u,{name:o,height:"32",width:"32"}),e.jsx("p",{className:"camper_search_form_filters_item__label_text",children:c})]})]})},L=[{id:"ac",name:"AC",svg:"wind",checked:!1},{id:"automatic",name:"Automatic",svg:"automatic",checked:!1},{id:"kitchen",name:"Kitchen",svg:"kitchen",checked:!1},{id:"tv",name:"TV",svg:"tv",checked:!1},{id:"shower",name:"Shower/WC",svg:"shower",checked:!1}],A=[{id:"van",name:"Van",svg:"van",checked:!1},{id:"fully_integrated",name:"Fully Integrated",svg:"fully_integrated",checked:!1},{id:"alcove",name:"Alcove",svg:"alcove",checked:!1}],R=()=>{const[s,t]=v.useState(L),[r,c]=v.useState(A),o=i=>{var m;const l=(m=i.target.closest("li"))==null?void 0:m.id;l&&t(d=>d.map(h=>h.id===l?{...h,checked:!h.checked}:h))},n=i=>{var m;const l=(m=i.target.closest("li"))==null?void 0:m.id;l&&c(d=>d.map(h=>({...h,checked:h.id===l})))};return e.jsxs("div",{className:"camper_search_form_filters",children:[e.jsx("p",{className:"camper_search_form_filters__title",children:"Filters"}),e.jsxs("div",{className:"camper_search_form_filters__container",children:[e.jsx("h2",{className:"camper_search_form_filters__container_title",children:"Vehicle equipment"}),e.jsx("hr",{className:"camper_search_form_filters__container_line"}),e.jsx("ul",{className:"camper_search_form_filters__container_list",onClick:o,children:s.map(i=>e.jsx(f,{item:i,type:"checkbox"},i.id))})]}),e.jsxs("div",{className:"camper_search_form_filters__container",children:[e.jsx("h2",{className:"camper_search_form_filters__container_title",children:"Vehicle type"}),e.jsx("hr",{className:"camper_search_form_filters__container_line"}),e.jsx("ul",{className:"camper_search_form_filters__container_list",onClick:n,children:r.map(i=>e.jsx(f,{item:i,type:"radio"},i.id))})]})]})},T=()=>e.jsxs("div",{className:"camper_search_input_group",children:[e.jsx("label",{className:"camper_search_input_group__label",htmlFor:"location",children:"Location"}),e.jsxs("div",{className:"camper_search_input_group__container",children:[e.jsx("input",{className:"camper_search_input_group__input",type:"text",name:"location",placeholder:"City"}),e.jsx(u,{styles:"camper_search_input_group__icon",name:"map-pin",width:"16",height:"16"})]})]}),z=()=>{const s=t=>{t.preventDefault()};return e.jsxs("form",{className:"camper_search_form",onSubmit:s,children:[e.jsx(T,{}),e.jsx(R,{}),e.jsx(g,{type:"submit",text:"Search",styles:"btn_main"})]})},B=()=>e.jsxs("div",{className:"catalog",children:[e.jsx(z,{}),e.jsx(I,{})]});export{B as default};
